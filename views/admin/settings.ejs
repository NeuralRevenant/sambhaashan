<%- include('../includes/head.ejs') %>
    <link rel="stylesheet" href="/css/forms.css">
    <link rel="stylesheet" href="/css/auth.css">
    <!-- <link rel="stylesheet" href="/css/product.css"> -->
    </head>

    <body>
        <%- include('../includes/navigation.ejs') %>
            <main>
                <div style="width: fit-content;padding: 5px 10px;margin: 10px auto;text-align:center;max-width:80%;border-color:rgb(150, 220, 20);background:rgb(239, 255, 168);">Info: Save your secret-question and answer somewhere to use the forgot password option in case you forget your password.</div>
                <%if(errorMsg){%>
                    <div style="width: fit-content;padding: 5px 10px;margin:auto;text-align:center;max-width:80%;border-color:crimson;background:rgb(255, 168, 168);"><%=errorMsg%></div>
                <%}%>
                <div style="text-align: center;">
                    <h2>Account Settings</h2>
                </div>
                <form class="login-form" method="POST" action="/admin/settings" novalidate autocomplete="off">
                    <div class="form-control">
                        <label for="username">Username</label>
                        <input 
                        class="<%=validationErrors.find(err => err.param === 'username')?'invalid':''%>"
                        type="text"
                        name="username" 
                        id="username"
                        value="<%=username%>" >
                    </div>
                    <div class="form-control">
                        <label for="email">E-Mail</label>
                        <input 
                        class="<%=validationErrors.find(err => err.param === 'email')?'invalid':''%>"
                        type="email" 
                        name="email" 
                        id="email" 
                        value="<%=email%>">
                    </div>
                    <div class="form-control">
                        <label for="password">New Password</label>
                        <input 
                        type="password" 
                        name="password" 
                        id="password">
                    </div>
                    <div style="margin-bottom: 1.3rem;">
                        <input type="checkbox" id="show-password" style="margin-left: 0;">
                        Show Password
                    </div>
                    <div class="form-control">
                        <label for="confirmPassword">Confirm Password</label>
                        <input 
                        class="<%=validationErrors.find(err => err.param === 'confirmPassword')?'invalid':''%>"
                        type="password" 
                        name="confirmPassword" 
                        id="confirmPassword">
                    </div>
                    <div class="form-control">
                        <label for="secretQuestion">secretQuestion</label>
                        <input 
                        class="<%=validationErrors.find(err => err.param === 'secretQuestion')?'invalid':''%>"
                        type="text" 
                        name="secretQuestion" 
                        id="secretQuestion" 
                        value="<%=secretQuestion%>">
                    </div>
                    <div class="form-control">
                        <label for="answer">Answer</label>
                        <input 
                        type="password" 
                        name="answer" 
                        id="answer">
                    </div>
                    <div style="margin-bottom: 1.4rem;">
                        <input type="checkbox" id="show-answer" style="margin-left: 0;">
                        Show Answer
                    </div>

                    <input type="hidden" name="_csrf" value="<%=csrfToken%>">
                    <button class="btn" type="submit">Update</button>
                </form>
            </main>
<%- include('../includes/end.ejs') %>